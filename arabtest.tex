\documentclass{article}

\usepackage{harfbuzz}

\begin{luacode*}
dofile("char-def.lua") -- character definition table

local function mirror(hlist)
  local rtl = false
  if tex.textdir == "TRT" then
    rtl = true
  elseif tex.textdir == "TLT" then
    rtl = false
  end
  for n in node.traverse(hlist) do
    if n.id == node.id('hlist') then
      mirror(n.list)
    end
    if n.id == node.id("whatsit") and n.subtype == 7 then
      if n.dir == "+TRT" or n.dir == "-TLT" then
        rtl = true
      elseif n.dir == "-TRT" or n.dir == "+TLT" then
        rtl = false
      end
    end
    if n.id == node.id('glyph') then
      if rtl then
      local char = n.char
      local mirror = characters.data[char].mirror
        if mirror then
          n.char = mirror
        end
      end
    end
  end
  return hlist
end
luatexbase.add_to_callback("pre_linebreak_filter",mirror, "mirror")

\end{luacode*}
\font\arab={Scheherazade} at 12pt


  \begin{document}
\arab 
\startharfbuzz
\SetFontOption{script}{arab}
\SetFontOption{language}{ARA}

\luatextextdir TRT
\luatexpardir TRT

  الخط الأميري

  الخط الأميري خط نسخي موجه لطباعة الكتب و النصوص الطويلة.

  الخط الأميري هو إحياء و محاكاة للخط الطباعي الجميل الذي تميزت به مطبعة بولاق منذ أوائل القرن العشرين، و التي عرفت أيضا بالمطبعة الأميرية، و من هنا أخذ الخط اسمه.
\end{document}

